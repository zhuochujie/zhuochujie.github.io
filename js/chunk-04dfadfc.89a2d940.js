(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04dfadfc"],{6535:function(e,t,s){"use strict";s.r(t);var a=s("7a23");const n={class:"airdrop"},r={class:"base"},c=Object(a["n"])("h2",{style:{"text-align":"center","margin-bottom":"20px"}},"Token批量转账",-1),o=Object(a["n"])("span",{style:{color:"#ff0000","font-size":"14px"}},"PS:每行一条记录,地址与转账金额用逗号分割",-1),l=Object(a["p"])("波场链"),i=Object(a["p"])("类ETH链(BSC,HECO,OKex,Matic...)"),d={class:"btn-con"},p=Object(a["p"])("授权"),h=Object(a["p"])("转账");function u(e,t,s,u,b,m){const f=Object(a["Q"])("el-input"),O=Object(a["Q"])("el-radio"),j=Object(a["Q"])("el-button");return Object(a["H"])(),Object(a["m"])("div",n,[Object(a["n"])("div",r,[c,Object(a["q"])(f,{modelValue:b.tokenAddress,"onUpdate:modelValue":t[0]||(t[0]=e=>b.tokenAddress=e),placeholder:"token地址"},null,8,["modelValue"]),Object(a["q"])(f,{modelValue:b.content,"onUpdate:modelValue":t[1]||(t[1]=e=>b.content=e),rows:4,type:"textarea",placeholder:"输入地址和金额"},null,8,["modelValue"]),o,Object(a["n"])("div",null,[Object(a["q"])(O,{modelValue:b.chainType,"onUpdate:modelValue":t[2]||(t[2]=e=>b.chainType=e),label:"tron"},{default:Object(a["fb"])(()=>[l]),_:1},8,["modelValue"]),Object(a["q"])(O,{modelValue:b.chainType,"onUpdate:modelValue":t[3]||(t[3]=e=>b.chainType=e),label:"eth"},{default:Object(a["fb"])(()=>[i]),_:1},8,["modelValue"])]),Object(a["n"])("div",d,[Object(a["q"])(j,{type:"danger",onClick:m.approve},{default:Object(a["fb"])(()=>[p]),_:1},8,["onClick"]),Object(a["q"])(j,{type:"primary",onClick:m.transfer},{default:Object(a["fb"])(()=>[h]),_:1},8,["onClick"])])])])}var b={name:"Airdrop",data(){return{tokenAddress:"",contractAddress:"TNUdoLQpu3n9YvGbyeYfeB4JAvA8JaCKdj",content:"",chainType:null}},methods:{split(){return this.content.split("\n")},getList(e){let t=[],s=[];return e.forEach(e=>{t.push(e.split(",")[0]),s.push(e.split(",")[1])}),[t,s]},async TRC20Approve(){let e=await tronWeb.contract().at(this.tokenAddress),t=await e.approve(this.contractAddress,"115792089237316195423570985008687907853269984665640564039457584007913129639935").send();this.$message("正在授权");let s=setInterval(async()=>{let e=await tronWeb.trx.getTransaction(t);null!=e.ret&&(clearInterval(s),"SUCCESS"==e.ret[0].contractRet?this.$message.success({message:"授权成功",type:"success"}):this.$message.error("授权失败:"+e.ret[0].contractRet))},1500)},async TRC20Transfer(){let e=this.split(),t=this.getList(e),s=await tronWeb.contract().at(this.tokenAddress),a=await s.decimals().call();a=Math.pow(10,a);let n=t[1].map((function(e){return String(e*a)})),r=await tronWeb.contract().at(this.contractAddress);try{let e=await r.tokenSend(this.tokenAddress,t[0],n).send({feeLimit:"1000000000"});this.$message("正在转账");let s=setInterval(async()=>{let t=await tronWeb.trx.getTransaction(e);null!=t.ret&&(clearInterval(s),"SUCCESS"==t.ret[0].contractRet?this.$message.success({message:"转账成功",type:"success"}):this.$message.error("转账失败:"+t.ret[0].contractRet))},1500)}catch(c){console.log(c),this.$message.error("转账失败")}},approve(){""!==this.tokenAddress?"tron"===this.chainType?this.TRC20Approve():"eth"===this.chainType?this.$message.error("还没有去写"):this.$message.error("必须选择链"):this.$message.error("请输入代币合约地址")},async transfer(){""!==this.tokenAddress?"tron"===this.chainType?this.TRC20Transfer():"eth"===this.chainType?this.$message.error("还没有去写"):this.$message.error("必须选择链"):this.$message.error("请输入代币合约地址")}}};s("88fc");b.render=u;t["default"]=b},"88fc":function(e,t,s){"use strict";s("dca1")},dca1:function(e,t,s){}}]);
//# sourceMappingURL=chunk-04dfadfc.89a2d940.js.map